<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In</title>
</head>

<script>

    @* arrow fucntion for  signInHandler*@
    @* const signInHandler = (e) => {
        e.preventDefault();
        const email = document.getElementById('signInemail').value;
        const password = document.getElementById('signInPassword').value;

        console.log('form submitted', email, password);


        fetch('http://localhost:5043/Login', {
        method: 'POST',
        headers: {
        'Content-Type': 'application/json'
        },
        body: JSON.stringify({
        email,
        password
        })
        }).then(res => res.json())
        .then(data => {
        if (data.status === 'success') {
        window.location.href = 'http://localhost:5043/dashboard';
        } else {
        alert(data.message);
        }
        })
        .catch(err => {
        console.log(err);
        })
        } *@

    @* const signInHandlerFetch = (e) => {
        e.preventDefault();
        const Email = document.getElementById('signInemail').value;
        const Password = document.getElementById('signInPassword').value;



        // JavaScript example
        const loginData = {
        email: Email,
        password: Password
        };

        console.log('loginData', loginData);

        fetch('http://localhost:5043/Login', {
        method: 'POST',
        headers: {
        'Content-Type': 'application/json'
        },
        body: JSON.stringify(loginData)
        })
        .then(response => response.json())
        .then(data => {
        console.log(data); // Check the response from the backend
        })
        .catch(error => {
        console.error('Error fetching data:', error);
        });

        } *@

    const signInHandlerFetch = async (e) => {
        e.preventDefault();

        // Get the email and password from input fields
        const email = document.getElementById('signInemail').value;
        const password = document.getElementById('signInPassword').value;

        // Construct the complete URL

        // Create an object with the email and password
        const jsonData = {
            email: email,
            password: password
        };
        console.log('jsonData', jsonData);

        // Fetch data using the constructed URL
    @* fetch('@Url.Action("LoginFetch", "Reg")', {
            method: 'POST',
            body: JSON.stringify(jsonData),
            }) *@
            fetch('http://localhost:5043/LoginFetch', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(jsonData)
            })
                .then(response => response.json())
                .then(data => {
                    // Handle the response data
                    console.log(data);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });

    };




    const signInHandlerAjax = (e) => {
        e.preventDefault();
        const Email = document.getElementById('signInemail').value;
        const Password = document.getElementById('signInPassword').value;
        // JavaScript example
        const jsonData = {
            email: Email,
            password: Password
        };
        console.log('jsonData', jsonData);

        $.ajax({
            url: '@Url.Action("Login", "Reg")',
            type: "POST",
            data: jsonData,

        });

    }
</script>
<div class="signReg-container">

    <h1>Sign In</h1>
    <form action="">
        <label for=""></label>
        <input type="text" id="signInemail" placeholder="email" required>

        <label for=""></label>
        <input type="password" id="signInPassword" placeholder="Password" required>

        <button id="SingInUser" onclick="signInHandlerFetch(event)">Sign In Fetch</button>
        <button id="SingInUser" onclick="signInHandlerAjax(event)">Sign In Ajax</button>

    </form>

</div>

</html>